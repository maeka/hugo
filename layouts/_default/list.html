<!DOCTYPE html>
<html>
{{ partial "header.html" . }}

<body>
  <div class="container wrapper list">

    {{/* 1) Filtra e ordena */}}
    {{ $excluded := .Site.Params.excludedTypes | default (slice "page") }}
    {{ $pages := where .Data.Pages "Type" "not in" $excluded }}
    {{ $pages = $pages.ByDate.Reverse }}

    {{/* 2) Pagina com 5 */}}
    {{ $paginator := .Paginate $pages 5 }}

    {{ partial "head.html" . }}

    {{ if isset .Data "Term" }}
      <h2>{{ .Data.Term }}</h2>
    {{ else }}
      <h2 class="page-title">{{ .Name }}</h2>
    {{ end }}

    <ul class="posts flat">
      {{ range $paginator.Pages }}
        {{ partial "post-card.html" . }}
      {{ end }}
    </ul>

    {{ partial "paginator.html" . }}

  </div>

  {{ partial "footer.html" . }}
</body>
</html>


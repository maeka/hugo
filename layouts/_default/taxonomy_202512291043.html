<!DOCTYPE html>
<html>
<body>
  <div class="container wrapper">
    {{ partial "head.html" . }}

    {{/* --- taxonomy subnav (Categories) --- */}}
    {{- if eq .Data.Plural "categories" -}}
      {{ $allLabel := cond (eq .Site.Language.Lang "pt") "Todas" "All" }}
      {{ $active := .RelPermalink }}

      {{- $termsPage := .Site.GetPage "taxonomyTerm" "categories" -}}
      {{- if $termsPage -}}
        <nav class="taxonomy-subnav" aria-label="Categories">
          <ul class="taxonomy-subnav__list">
            <li class="taxonomy-subnav__item">
              <a class="taxonomy-subnav__link" href="{{ $termsPage.Permalink }}">{{ $allLabel }}</a>
            </li>

            {{- range $termsPage.Data.Terms.Alphabetical -}}
              {{- $isActive := eq .Page.RelPermalink $active -}}
              <li class="taxonomy-subnav__item">
                <a class="taxonomy-subnav__link {{ if $isActive }}is-active{{ end }}" href="{{ .Page.Permalink }}">
                  {{ .Page.LinkTitle }}
                </a>
              </li>
            {{- end -}}
          </ul>
        </nav>
      {{- end -}}
    {{- end -}}

    {{/* --- posts for THIS category (same card list as home) --- */}}
    <div class="recent-posts section">
      <div class="posts">
        {{ $pages := where .Pages "Params.hidden" "ne" true }}
        {{ $paginator := .Paginate ($pages.ByDate.Reverse) }}
        {{ range $paginator.Pages }}
          {{ partial "post-card.html" . }}
        {{ end }}
      </div>

      {{ partial "paginator.html" . }}
    </div>

    {{ partial "footer.html" . }}
  </div>

  <script>feather.replace()</script>
</body>
</html>
